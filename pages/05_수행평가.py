import streamlit as st

# MBTI 유형과 넷플릭스 드라마 매핑
mbti_to_drama = {
    "INTJ": [("킹덤", "좀비+정치 스릴러라 전략적이고 예측 불가능한 전개가 매력적이야"), 
             ("시그널", "과거와 현재를 오가는 범죄 수사로 지적인 긴장감을 준다")],
    "INTP": [("미스터 션샤인", "역사적 배경 + 깊은 캐릭터로 사고하는 타입에게 어울려"), 
             ("비센초", "법정 + 마피아 이야기라 논리+전략 좋아하는 INTP에 딱이야")],
    "ENTJ": [("스퀴드 게임", "극한의 경쟁과 리더십, 결단이 중요하게 그려져 있어"), 
             ("더 글로리", "복수 전략이 치밀하고 목표 지향적인 플롯이 인상적이야")],
    "ENTP": [("킹덤", "변화무쌍한 이야기에 ENTP의 호기심이 딱 맞아"), 
             ("D.P.", "군대 제도와 도망자들이 얽힌 현실적 스토리 + 액션이 있어")],
    "INFJ": [("그녀는 예뻤다", "따뜻한 인간관계 + 내면의 치유 이야기가 와 닿아"), 
             ("이타원 클래스", "역경 극복 + 인간미 있는 드라마라 감성적 INFJ에게 좋아")],
    "INFP": [("내 이름은 김삼순", "로맨틱 코미디 + 진심 어린 감정 표현이 많아"), 
             ("바이크여행", "자신과 타인, 꿈에 대한 내적 성찰을 할 수 있는 이야기야")],
    "ENFJ": [("퀸 오브 티어즈", "사랑과 가족, 희생이 큰 테마라 리더십·공감 능력 좋은 ENFJ에 어울려"), 
             ("로맨스는 별책부록", "정서적으로 풍부하고 관계 중심의 로맨스가 돋보여")],
    "ENFP": [("우리의 블루스", "다양한 인물들의 이야기 + 따뜻하고 희망적인 분위기"), 
             ("사랑의 불시착", "장벽을 넘는 로맨스 + 모험 요소가 많아")],
    "ISTJ": [("비밀의 숲 / 스트레인저", "원칙+정의 중심의 수사 스토리라 ISTJ 스타일이야"), 
             ("보건교사 안은영", "평범한 일상 속 비밀 있고 논리적인 사건이 펼쳐져")],
    "ISFJ": [("사랑의 온도", "감정과 책임감이 섬세하게 다뤄지는 드라마야"), 
             ("내 아이디는 강남미인", "자존감 + 성장 이야기라 인간관계에 신경 쓰는 ISFJ에 맞아")],
    "ESTJ": [("킹덤", "질서 + 위계 + 리더십 요소가 많아서 ESTJ에게 흥미로워"), 
             ("비센조", "권력 구조 + 전략 싸움이 굉장히 강해")],
    "ESFJ": [("이태원 클라쓰", "정의 + 공동체 + 사람들과의 유대가 중요하게 나와"), 
             ("갓파더", "가족+책임감+희생 테마가 있어서 따뜻한 ESFJ에게 좋아")],
    "ISTP": [("D.P.", "액션 + 현실적인 갈등 + 자유로운 유형에게 매력적"), 
             ("보건교사 안은영", "평범한 일상 속 초자연적인 미스터리를 좋아할 거야")],
    "ISFP": [("사랑의 불시착", "로맨스 + 꿈 + 감성적인 순간이 많아"), 
             ("우리의 블루스", "자연스럽고 인간적인 이야기 + 미묘한 감정선이 매력적")],
    "ESTP": [("스위트홈", "공포 + 생존 + 액션이 있어서 긴박감 넘치는 전개 좋아할듯"), 
             ("D.P.", "도망자 + 추격의 리듬이 있고 다이내믹해")],
    "ESFP": [("이태원 클라쓰", "열정 + 인간미 + 유쾌한 분위기가 ESFP의 에너지랑 잘 맞아"), 
             ("사랑의 온도", "로맨스와 일상 속 따뜻한 순간이 많아")],
}

# Streamlit UI
st.title("🎬 MBTI 기반 넷플릭스 드라마 추천기")

mbti = st.selectbox("너의 MBTI 유형을 골라줘:", list(mbti_to_drama.keys()))

if mbti:
    st.subheader(f"✅ {mbti}에게 추천하는 넷플릭스 드라마 두 편:")
    dramas = mbti_to_drama[mbti]
    for title, reason in dramas:
        st.write(f"- **{title}**: {reason}")

    st.write("\n💬 추천 이유 요약 + 한줄 서평:")
    for title, reason in dramas:
        # 여기서는 단순하게 추천 이유 + “서평”을 합쳐서 보여줌
        st.write(f"> *{title}* — {reason} 그리고 이 드라마는 “{title} 는 ~한 매력이 있다”고 느껴졌어.")

# 추가: 더 많은 팁
st.write("\n👉 참고로, 위 드라마들은 대한민국 넷플릭스에서도 인기 있었거나 정평 있는 작품이야.")

